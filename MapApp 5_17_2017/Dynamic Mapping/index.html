<!DOCTYPE HTML>

<html>
<title>
    Library Book Locator </title>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="HandheldFriendly" content="true">
    <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../MapApp.css" media="all">
	<link rel="stylesheet" type="text/css" href="../LoginModal.css" media="all">

    <!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	
    <!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	<script>
		function loadDoc(el, url) { //runs PHP script to access database and display shelves
			var xhttp = new XMLHttpRequest();
			console.log(el);
			xhttp.open("GET", url, true);
			xhttp.onload = function() {
				if (this.readyState == 4 && this.status == 200) {
					document.getElementById(el).innerHTML = this.responseText;
				}
			};
			xhttp.send();
		}
		loadDoc("shelvesMain", "mainFloorDisplayer.php");
		loadDoc("shelvesConcourse", "concourseDisplayer.php");
		loadDoc("shelvesGround", "groundDisplayer.php");
	</script>

    <style type="text/css" media="all">
        #bookshelves {
            margin: 0 auto;
            display: none;
        }
		
		#mainfloormap {
            margin: 0 auto;
            display: block;
        }
        
        #groundfloormap {
            margin: 0 auto;
            display: none;
        }
        
        #concoursemap {
            margin: 0 auto;
            display: none;
        }
        
        #about {
            margin: 15 auto;
            display: none;
        }

        #search {
            margin: 15 auto;
            display: none;
        }
        
        .info_panel {
            background-color: rgba(255, 255, 255, .8);
            padding: 5px;
            font-size: 16px;
            font-family: Helvetica, Arial, sans-serif;
            position: absolute;
            border: 1px solid #333;
            color: #333;
            white-space: nowrap;
        }
        
        textarea {
            width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        
        #submit {
            width: 100%;
            background-color: #0694CF;
            color: white;
            padding: 14px 20px;
            margin: 8px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        #submit:hover {
            background-color: #043E7E;
        }
        
        p {
            padding: 10%;
        }
        
        .bodydiv {
            padding: 20px;
        }
        /* navbar */
        
        .navbar-default {
            background-color: #0694CF;
        }
        /* title */
        
        .navbar-default .navbar-brand {
            color: #777;
        }
        
        .navbar-default .navbar-brand:hover,
        .navbar-default .navbar-brand:focus {
            color: #5E5E5E;
        }
        /* link */
        
        .navbar-default .navbar-nav>li>a {
            color: white;
        }
        
        .navbar-default .navbar-nav>li>a:hover,
        .navbar-default .navbar-nav>li>a:focus {
            color: white;
            background-color: #043E7E;
        }
        
        .navbar-default .navbar-nav>.active>a,
        .navbar-default .navbar-nav>.active>a:hover,
        .navbar-default .navbar-nav>.active>a:focus {
            color: #555;
            background-color: #E7E7E7;
        }
        
        .navbar-default .navbar-nav>.open>a,
        .navbar-default .navbar-nav>.open>a:hover,
        .navbar-default .navbar-nav>.open>a:focus {
            color: #555;
            background-color: #D5D5D5;
        }
        
        .navbar-default .navbar-toggle,
        .navbar-default .navbar-toggle:hover,
        .navbar-default .navbar-toggle:focus {
            color: 333;
            background-color: #043E7E;
        }
        
        .info_panel::first-line {
            font-weight: bold;
        }
    </style>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">
                    <img src="../NewPaltz Logo.png" height="200%" style="margin-top:1px;position:relative;top:-10px" alt="">
                </a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#" onclick="showMain();">Main Floor</a>
                    </li>
                    <li>
                        <a href="#" onclick="showConcourse();">Concourse</a>
                    </li>
                    <li>
                        <a href="#" onclick="showGround();">Ground Floor</a>
                    </li>
                    <li>
                        <a href="#" onclick="showAbout();">About</a>
                    </li>
                    <li>
						<a href="#" onclick="showSearch();">Search</a>
					</li>
					<li>
                        <a href="#" onclick="document.getElementById('id01').style.display='block'">Login</a>
					</li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
    <!--Modal-->
    <a id="modalButton" href="#bookFoundModal" data-toggle="modal" data-book-id="my_id_value"></a>

		<div class="modal" id="bookFoundModal">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button>
		          <h4 id="modalHeader" class="modal-title">Call number found!</h4>
		      </div>
		      <div class="modal-body">
		        <p id="modalParagraph"></p>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		      </div>
		    </div>
		  </div>
		</div>
	<div class="bodydiv">
		<label for="callno">Call Number:</label>
		<input type="text" id="callnum" name="callNumber" style="width:100%;padding:12px; border-radius: 8px;" placeholder="Enter call number here..."/>
		<button id="submit" onclick = "getText()" type="">Submit</button>
	</div>
<!--SVG div container-->
    <div class="bodydiv">
		<form id="test">
			<input type="hidden" name="floor" value="0"/>
		</form>
		
		<!--Book shelves SVG-->
		<svg id="bookshelves"></svg>
        <!--Main floor SVG-->
        <svg id="mainfloormap" version="1.1" xmlns:x="&ns_extend;" xmlns:i="&ns_ai;" xmlns:graph="&ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 720 873" style="enable-background:new 0 0 720 873;" xml:space="preserve">
	<style type="text/css">
	.st01{fill:#80B4DE;}
	.st1{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}
	.st2{fill:none;stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}
	.st4{fill:none;}
	.st5{font-family:'Helvetica-Light';}
	.st6{font-size:50px;}
	.st7{font-family:'Helvetica';}
	.st8{font-size:24px;}
	</style>
	<switch>
	<foreignobject requiredextensions="&ns_ai;" x="0" y="0" width="1" height="1">
	<i:pgfref xlink:href="#adobe_illustrator_pgf">
	</i:pgfref>
	</foreignobject>
	<g i:extraneous="self">
	<g id="color_blocks">
	<rect x="127.4" y="289" class="st01" width="235.9" height="121.9"/>
	<rect x="611.6" y="763.2" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 1475.213 156.9141)" class="st01" width="95.2" height="105.7"/>
	<rect x="605.3" y="63" class="st01" width="104.7" height="98.3"/>
	<rect x="515.6" y="39.4" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 609.5916 -452.5783)" class="st01" width="31.1" height="78.2"/>
	<rect x="409.5" y="31.7" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 488.0211 -346.5378)" class="st01" width="15.5" height="78.2"/>
	<rect x="393.6" y="85.4" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 541.7489 -292.81)" class="st01" width="47.3" height="78.2"/>
	<rect x="294" y="31.7" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 372.4856 -231.0023)" class="st01" width="15.5" height="78.2"/>
	<rect x="278.1" y="85.4" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 426.2134 -177.2745)" class="st01" width="47.3" height="78.2"/>
	<rect x="181.2" y="31.7" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 259.7443 -118.261)" class="st01" width="15.5" height="78.2"/>
	<rect x="165.3" y="85.4" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 313.4721 -64.5332)" class="st01" width="47.3" height="78.2"/>
	<rect x="196.1" y="585.6" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 835.73 391.0131)" class="st01" width="52.5" height="55.5"/>
	<rect x="20.9" y="53.3" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 167.9032 42.0743)" class="st01" width="84" height="103.4"/>
	<rect x="10.7" y="176.6" class="st01" width="80.2" height="234.6"/>
	<rect x="518.1" y="812.6" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 1382.7656 318.8668)" class="st01" width="27.7" height="76.4"/>
	<rect x="379.1" y="855.9" class="st01" width="77.4" height="8.7"/>
	<rect x="394" y="765.3" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 1220.8234 386.2644)" class="st01" width="46.6" height="76.4"/>
	<rect x="166.9" y="764.2" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 993.7276 613.3602)" class="st01" width="46.6" height="78.7"/>
	<polygon class="st01" points="9,785 10,785 10,863 115,863 115,784 91,784 91,539.9 91,539.9 91,519 45,519 45,540 9,540 "/>
	<rect x="185" y="820.2" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 1049.7029 669.9019)" class="st01" width="9.7" height="79.3"/>
	</g>
	<g id="lines">
	<line class="st1" x1="363.3" y1="410.8" x2="275.4" y2="410.8"/>
	<line class="st1" x1="361.1" y1="639.6" x2="284.2" y2="639.6"/>
	<line class="st1" x1="249.5" y1="639.1" x2="194.6" y2="639.1"/>
	<line class="st1" x1="249.5" y1="585.9" x2="194.6" y2="585.9"/>
	<line class="st1" x1="194.6" y1="639.1" x2="194.6" y2="586.7"/>
	<line class="st1" x1="249.5" y1="639.1" x2="249.5" y2="586.7"/>
	<line class="st1" x1="164.4" y1="639.6" x2="129.6" y2="639.6"/>
	<line class="st1" x1="361.1" y1="521.8" x2="129.6" y2="521.8"/>
	<line class="st1" x1="361.1" y1="639.6" x2="361.1" y2="521.8"/>
	<line class="st1" x1="129.6" y1="639.6" x2="129.6" y2="521.8"/>
	<line class="st1" x1="90.6" y1="412.9" x2="90.6" y2="324.9"/>
	<line class="st1" x1="66.1" y1="378" x2="89.2" y2="378"/>
	<line class="st1" x1="11.7" y1="378" x2="47.7" y2="378"/>
	<line class="st1" x1="11.7" y1="342.9" x2="89.2" y2="342.9"/>
	<line class="st1" x1="11.7" y1="293.6" x2="90.9" y2="293.6"/>
	<line class="st1" x1="11.7" y1="147.4" x2="96.6" y2="147.2"/>
	<line class="st1" x1="11.7" y1="176.6" x2="90.9" y2="176.6"/>
	<line class="st1" x1="90.9" y1="285.7" x2="90.9" y2="302.7"/>
	<line class="st1" x1="91.7" y1="264.5" x2="91.7" y2="176.6"/>
	<line class="st1" x1="114.6" y1="147.5" x2="114.6" y2="63"/>
	<line class="st1" x1="228.5" y1="147.5" x2="228.5" y2="101.5"/>
	<line class="st1" x1="150.3" y1="147.5" x2="150.3" y2="101.5"/>
	<line class="st1" x1="150.3" y1="148.1" x2="228.5" y2="148.1"/>
	<line class="st1" x1="150.3" y1="100.8" x2="207.4" y2="100.8"/>
	<line class="st1" x1="222.1" y1="100.8" x2="227.9" y2="100.8"/>
	<line class="st1" x1="340.8" y1="147.5" x2="340.8" y2="101.5"/>
	<line class="st1" x1="262.7" y1="147.5" x2="262.7" y2="101.5"/>
	<line class="st1" x1="262.7" y1="148.1" x2="340.8" y2="148.1"/>
	<line class="st1" x1="262.7" y1="100.8" x2="319.7" y2="100.8"/>
	<line class="st1" x1="334.4" y1="100.8" x2="340.2" y2="100.8"/>
	<line class="st1" x1="456.4" y1="147.5" x2="456.4" y2="101.5"/>
	<line class="st1" x1="378.2" y1="147.5" x2="378.2" y2="101.5"/>
	<line class="st1" x1="378.2" y1="148.1" x2="456.4" y2="148.1"/>
	<line class="st1" x1="378.2" y1="100.8" x2="435.3" y2="100.8"/>
	<line class="st1" x1="378.2" y1="78.5" x2="435.3" y2="78.5"/>
	<line class="st1" x1="449.9" y1="100.8" x2="455.8" y2="100.8"/>
	<line class="st1" x1="257.2" y1="410.8" x2="207.7" y2="410.8"/>
	<line class="st1" x1="184" y1="410.6" x2="127.6" y2="410.8"/>
	<line class="st1" x1="363.3" y1="410" x2="363.3" y2="289"/>
	<line class="st1" x1="348.5" y1="410" x2="348.5" y2="289"/>
	<line class="st1" x1="240.7" y1="289" x2="363.3" y2="289"/>
	<line class="st1" x1="257.2" y1="289" x2="257.2" y2="411"/>
	<line class="st1" x1="240.7" y1="289" x2="240.7" y2="411"/>
	<line class="st1" x1="127.4" y1="316.1" x2="127.4" y2="410"/>
	<line class="st1" x1="223.2" y1="350" x2="128.3" y2="350"/>
	<line class="st1" x1="224.3" y1="388.4" x2="224.5" y2="289"/>
	<line class="st1" x1="127.6" y1="289" x2="224.5" y2="289"/>
	<line class="st1" x1="229" y1="780.2" x2="229" y2="826.2"/>
	<line class="st1" x1="150.8" y1="780.2" x2="150.8" y2="826.2"/>
	<line class="st1" x1="115.1" y1="783.4" x2="115.1" y2="826.9"/>
	<line class="st1" x1="113.6" y1="783.4" x2="91.9" y2="783.4"/>
	<line class="st1" x1="91.9" y1="517.4" x2="91.9" y2="757.2"/>
	<line class="st1" x1="115.1" y1="852" x2="115.1" y2="862.9"/>
	<line class="st1" x1="91.9" y1="778.7" x2="91.9" y2="783.4"/>
	<line class="st1" x1="56.5" y1="518.5" x2="44.7" y2="518.5"/>
	<line class="st1" x1="26.4" y1="540.6" x2="11" y2="540.2"/>
	<line class="st1" x1="44.7" y1="540.3" x2="40.3" y2="540.3"/>
	<line class="st1" x1="150.8" y1="779.5" x2="229" y2="779.5"/>
	<line class="st1" x1="150.8" y1="826.9" x2="207.9" y2="826.9"/>
	<line class="st1" x1="12.5" y1="635.3" x2="91.9" y2="635.3"/>
	<line class="st1" x1="56.6" y1="518.5" x2="56.6" y2="635.3"/>
	<line class="st1" x1="44.7" y1="518.5" x2="44.7" y2="635.3"/>
	<line class="st1" x1="222.6" y1="826.9" x2="228.4" y2="826.9"/>
	<line class="st1" x1="229.5" y1="862.9" x2="229.5" y2="854.9"/>
	<line class="st1" x1="150.3" y1="862.9" x2="150.3" y2="854.9"/>
	<line class="st1" x1="150.3" y1="854.8" x2="207.3" y2="854.8"/>
	<line class="st1" x1="223.1" y1="854.8" x2="229" y2="854.8"/>
	<line class="st1" x1="456.7" y1="780.2" x2="456.7" y2="826.2"/>
	<line class="st1" x1="378.5" y1="780.2" x2="378.5" y2="826.2"/>
	<line class="st1" x1="378.5" y1="779.5" x2="456.7" y2="779.5"/>
	<line class="st1" x1="378.5" y1="826.9" x2="435.5" y2="826.9"/>
	<line class="st1" x1="450.2" y1="826.9" x2="456.1" y2="826.9"/>
	<line class="st1" x1="457.2" y1="863.9" x2="457.2" y2="854.9"/>
	<line class="st1" x1="377.9" y1="863.9" x2="377.9" y2="854.9"/>
	<line class="st1" x1="377.9" y1="854.8" x2="435" y2="854.8"/>
	<line class="st1" x1="493.7" y1="837" x2="569.5" y2="837"/>
	<line class="st1" x1="606.2" y1="789.4" x2="606.2" y2="863.9"/>
	<line class="st1" x1="493.7" y1="855.9" x2="493.7" y2="863.9"/>
	<line class="st1" x1="698.2" y1="731.4" x2="710.7" y2="731.4"/>
	<line class="st1" x1="698.2" y1="656" x2="710.7" y2="656"/>
	<line class="st1" x1="698.2" y1="616.7" x2="710.7" y2="616.7"/>
	<line class="st1" x1="698.2" y1="541.4" x2="710.7" y2="541.4"/>
	<line class="st1" x1="698.2" y1="389.3" x2="710.7" y2="389.3"/>
	<line class="st1" x1="698.2" y1="313" x2="710.7" y2="313"/>
	<line class="st1" x1="698.2" y1="275.3" x2="709.7" y2="275.3"/>
	<line class="st1" x1="698.2" y1="199.4" x2="709.7" y2="199.4"/>
	<line class="st1" x1="604.9" y1="155" x2="604.9" y2="161.2"/>
	<line class="st1" x1="570.2" y1="63" x2="570.2" y2="94"/>
	<line class="st1" x1="456.4" y1="63" x2="456.4" y2="78.5"/>
	<line class="st1" x1="378" y1="63" x2="378" y2="78.5"/>
	<line class="st1" x1="263" y1="78.5" x2="320.1" y2="78.5"/>
	<line class="st1" x1="341.2" y1="63" x2="341.2" y2="78.5"/>
	<line class="st1" x1="262.8" y1="63" x2="262.8" y2="78.5"/>
	<line class="st1" x1="149.8" y1="78.5" x2="206.8" y2="78.5"/>
	<line class="st1" x1="227.9" y1="63" x2="227.9" y2="78.5"/>
	<line class="st1" x1="149.5" y1="63" x2="149.5" y2="78.5"/>
	<line class="st1" x1="492" y1="87.8" x2="492" y2="94"/>
	<line class="st1" x1="492" y1="65" x2="492" y2="71.2"/>
	<line class="st1" x1="604.9" y1="63" x2="604.9" y2="141.3"/>
	<line class="st1" x1="605.2" y1="161.2" x2="709.7" y2="161.2"/>
	<line class="st1" x1="492.8" y1="94" x2="570.2" y2="94"/>
	<line class="st1" x1="493.7" y1="837" x2="493.7" y2="841.7"/>
	<line class="st1" x1="606.2" y1="767.3" x2="710.7" y2="767.3"/>
	<line class="st1" x1="606.3" y1="767.3" x2="606.3" y2="772"/>
	<line class="st1" x1="450.8" y1="854.8" x2="456.6" y2="854.8"/>
	<polyline class="st2" points="10.1,414.3 11.2,63 709.4,63.8 712,863.7 10,863 10.1,528 "/>
	</g>
	<g id="Layer_5">
	</g>
	<g id="shelvesMain">
	<!-- mainFloorDisplayer.php takes care of displaying these shelves -->
	</g>
	<g id="text">
	<rect x="7.6" y="15.4" class="st4" width="701.9" height="48.3"/>
	<text transform="matrix(1 0 0 1 241.8191 51.4319)" class="st5 st6">Main Floor</text>
	<rect x="440.1" y="447.7" class="st4" width="182" height="56.5"/>
	<text transform="matrix(1 0 0 1 472.3978 464.9856)"><tspan x="0" y="0" class="st7 st8">Computers</tspan><tspan x="6" y="24" class="st7 st8">& Printers</tspan></text>
	<rect x="136.1" y="495.6" class="st4" width="218.6" height="23.9"/>
	<text transform="matrix(1 0 0 1 190.0314 512.8294)" class="st7 st8">Help Desk</text>
	<rect x="249" y="345" class="st4" width="111.3" height="32.9"/>
	<text transform="matrix(1 0 0 1 274.0449 362.2889)" class="st7 st8">Stairs</text>
	</g>
	</g>
	</switch>
	</svg>
        <!--Ground floor SVG-->
        <svg id="groundfloormap" version="1.1" xmlns:x="&ns_extend;" xmlns:i="&ns_ai;" xmlns:graph="&ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 720 886.8" style="enable-background:new 0 0 720 886.8;" xml:space="preserve">
	<style type="text/css">
	.st02{fill:#FECC83;}
	.st1{fill:none;stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}
	.st2{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}
	.st4{fill:none;}
	.st5{font-family:'Helvetica-Light';}
	.st6{font-size:50px;}
	.st7{font-family:'Helvetica';}
	.st8{font-size:24px;}
	</style>
	<switch>
	<foreignobject requiredextensions="&ns_ai;" x="0" y="0" width="1" height="1">
	<i:pgfref xlink:href="#adobe_illustrator_pgf">
	</i:pgfref>
	</foreignobject>
	<g i:extraneous="self">
	<g id="color_blocks">
	<rect x="295.6" y="240.3" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 713.9703 0.367)" class="st02" width="122.4" height="233.7"/>
	<rect x="9.7" y="334.5" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 87.7924 726.7601)" class="st02" width="68.4" height="57.7"/>
	<g>
	<polygon class="st02" points="246.4,527.9 131.3,527.9 131.3,525.6 8.2,525.6 8.2,527.9 8.2,583.3 8.2,643.7 246.4,643.7 "/>
	<rect x="8.2" y="643.8" class="st02" width="159.2" height="234.9"/>
	</g>
	<rect x="492.5" y="62.5" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 1060.4241 159.5026)" class="st02" width="75.4" height="34.5"/>
	</g>
	<g id="lines">
	<rect x="-48.1" y="119.1" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 830.6214 110.6306)" class="st1" width="816.2" height="703"/>
	<line class="st2" x1="568.1" y1="62.4" x2="568.1" y2="97.6"/>
	<line class="st2" x1="492.5" y1="62.4" x2="492.5" y2="78.8"/>
	<line class="st2" x1="568.1" y1="97.6" x2="492.5" y2="97.6"/>
	<line class="st2" x1="78.2" y1="334.3" x2="8.3" y2="334.3"/>
	<line class="st2" x1="37.4" y1="392.2" x2="8.3" y2="392.2"/>
	<line class="st2" x1="25.5" y1="525.6" x2="8.3" y2="525.6"/>
	<line class="st2" x1="246.4" y1="527.7" x2="241.3" y2="527.7"/>
	<line class="st2" x1="167.6" y1="650.9" x2="167.6" y2="645.8"/>
	<line class="st2" x1="382.2" y1="336.5" x2="364.6" y2="336.5"/>
	<line class="st2" x1="454.2" y1="317.6" x2="428.2" y2="317.6"/>
	<line class="st2" x1="454.4" y1="316.9" x2="454.4" y2="296.2"/>
	<line class="st2" x1="425.7" y1="335.6" x2="399.6" y2="335.6"/>
	<line class="st2" x1="439.3" y1="296.2" x2="397.5" y2="296"/>
	<line class="st2" x1="257.6" y1="418.4" x2="239.7" y2="418.4"/>
	<line class="st2" x1="257.6" y1="296" x2="239.7" y2="296"/>
	<line class="st2" x1="364.6" y1="418.4" x2="274.3" y2="418.4"/>
	<line class="st2" x1="379.4" y1="296" x2="274.3" y2="296"/>
	<line class="st2" x1="246.4" y1="611.3" x2="195.1" y2="611.3"/>
	<line class="st2" x1="224.3" y1="527.7" x2="130.6" y2="527.7"/>
	<line class="st2" x1="130.6" y1="525.6" x2="41" y2="525.6"/>
	<line class="st2" x1="130.6" y1="639.8" x2="8.5" y2="639.8"/>
	<line class="st2" x1="247" y1="644.5" x2="131.5" y2="644.5"/>
	<line class="st2" x1="130.6" y1="551.5" x2="130.6" y2="525.9"/>
	<line class="st2" x1="473.7" y1="417.6" x2="473.7" y2="296"/>
	<line class="st2" x1="427.2" y1="394.3" x2="427.2" y2="296"/>
	<line class="st2" x1="435.3" y1="394.3" x2="435.3" y2="317.6"/>
	<line class="st2" x1="347.7" y1="417.6" x2="347.7" y2="296"/>
	<line class="st2" x1="255.1" y1="417.6" x2="255.1" y2="296"/>
	<line class="st2" x1="239.5" y1="417.6" x2="239.5" y2="296"/>
	<line class="st2" x1="364.3" y1="394.3" x2="473.7" y2="394.3"/>
	<line class="st2" x1="221.8" y1="608.8" x2="221.8" y2="594.7"/>
	<line class="st2" x1="364.3" y1="418.4" x2="364.3" y2="394.6"/>
	<line class="st2" x1="390.1" y1="418.4" x2="390.1" y2="394.6"/>
	<line class="st2" x1="364.6" y1="335.6" x2="364.6" y2="296"/>
	<line class="st2" x1="419.3" y1="418.4" x2="406" y2="418.4"/>
	<line class="st2" x1="416.7" y1="418.4" x2="416.7" y2="394.6"/>
	<line class="st2" x1="445.7" y1="418.4" x2="432.5" y2="418.4"/>
	<line class="st2" x1="443.2" y1="418.4" x2="443.2" y2="394.6"/>
	<line class="st2" x1="472.2" y1="418.4" x2="458.9" y2="418.4"/>
	<line class="st2" x1="469.7" y1="418.4" x2="469.7" y2="394.6"/>
	<line class="st2" x1="195.1" y1="644" x2="195.1" y2="593.3"/>
	<line class="st2" x1="130.6" y1="644.2" x2="130.6" y2="569.4"/>
	<line class="st2" x1="167.6" y1="878.8" x2="167.6" y2="674.5"/>
	<line class="st2" x1="247" y1="644.2" x2="247" y2="527.9"/>
	<line class="st2" x1="78.1" y1="392.2" x2="51.7" y2="392.2"/>
	<line class="st2" x1="78.5" y1="392.2" x2="78.5" y2="334.5"/>
	</g>
	<g id="shelvesGround">
	<!-- groundDisplayer.php takes care of displaying these shelves -->
	</g>
	<g id="text">
	<rect x="7.5" y="14" class="st4" width="704.9" height="48.3"/>
	<text transform="matrix(1 0 0 1 212.7262 50.0434)" class="st5 st6">Ground Floor</text>
	<rect x="202.5" y="343.8" class="st4" width="195.3" height="61.5"/>
	<text transform="matrix(1 0 0 1 269.459 361.0605)" class="st7 st8">Stairs</text>
	<rect x="-3.9" y="560.7" class="st4" width="137.5" height="50.7"/>
	<text transform="matrix(1 0 0 1 31.5566 577.9268)"><tspan x="0" y="0" class="st7 st8">Micro-</tspan><tspan x="3.3" y="24" class="st7 st8">forms</tspan></text>
	</g>
	</g>
	</switch>
	</svg>
        <!--Concourse SVG-->
        <svg id="concoursemap" version="1.1" xmlns:x="&ns_extend;" xmlns:i="&ns_ai;" xmlns:graph="&ns_graphs;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 720 900" style="enable-background:new 0 0 720 900;" xml:space="preserve">
	<style type="text/css">
	.st0{fill:#CAD08F;}
	.st1{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}
	.st2{fill:none;stroke:#000000;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}

	.st4{fill:none;}
	.st5{font-family:'Helvetica-Light';}
	.st6{font-size:50px;}
	.st7{font-family:'Helvetica';}
	.st8{font-size:24px;}
	</style>
	<switch>
	<foreignobject requiredextensions="&ns_ai;" x="0" y="0" width="1" height="1">
	<i:pgfref xlink:href="#adobe_illustrator_pgf">
	</i:pgfref>
	</foreignobject>
	<g i:extraneous="self">
	<g id="color_blocks">
	<rect x="491.4" y="861.2" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 1064.6666 1752.2413)" class="st0" width="81.9" height="29.8"/>
	<rect x="499.5" y="63.1" transform="matrix(-1 -1.224647e-16 1.224647e-16 -1 1072.8273 150.6967)" class="st0" width="73.7" height="24.5"/>
	<polygon class="st0" points="365.4,421.2 365.4,421.1 477.8,421.1 477.8,395.3 479.2,395.3 479.2,292.6 365.4,292.6 235.4,292.6 235.4,421.2 "/>
	<rect x="9.1" y="63.1" class="st0" width="238.2" height="118"/>
	<polygon class="st0" points="187.5,888.8 188.1,888.8 266.6,888.8 266.6,792.8 282.4,792.8 282.4,717.9 266.6,717.9 231,717.9 209.9,717.9 209.9,683.2 188.1,683.2 188.1,653.4 191.6,653.4 191.6,648 242.9,648 242.9,526 191.6,526 191.6,525.5 129.7,525.5 129.7,480.5 162.4,480.5 162.4,411.3 132.7,411.3 132.7,411.3 59.3,411.3 59.3,408.9 59.3,404 59.3,349.7 10.1,349.7 10.1,408.9 10.1,466.7 10.1,524.5 10.1,653.4 10.1,888.8 "/>
	</g>
	<g id="lines">
	<line class="st1" x1="9.3" y1="690.7" x2="148.9" y2="690.7"/>
	<line class="st1" x1="148.9" y1="690.7" x2="148.9" y2="821.5"/>
	<line class="st1" x1="145.2" y1="844.3" x2="145.2" y2="859.1"/>
	<line class="st1" x1="27.1" y1="890" x2="27.1" y2="872"/>
	<line class="st1" x1="145.2" y1="850.5" x2="82.2" y2="850.5"/>
	<line class="st1" x1="27.1" y1="872" x2="82.2" y2="872"/>
	<line class="st1" x1="82.2" y1="850.5" x2="82.2" y2="872"/>
	<line class="st1" x1="243.5" y1="579.4" x2="243.5" y2="526"/>
	<line class="st1" x1="110.3" y1="526" x2="243.5" y2="526"/>
	<line class="st1" x1="129.2" y1="411.3" x2="129.2" y2="526"/>
	<line class="st1" x1="45.7" y1="411.3" x2="129.2" y2="411.3"/>
	<line class="st1" x1="45.7" y1="529.3" x2="45.7" y2="411.3"/>
	<line class="st1" x1="87.4" y1="526" x2="45.7" y2="526"/>
	<line class="st1" x1="82.4" y1="655.3" x2="82.4" y2="526"/>
	<line class="st1" x1="45.7" y1="655.3" x2="45.7" y2="548.4"/>
	<line class="st1" x1="82.4" y1="590.6" x2="45.7" y2="590.6"/>
	<line class="st1" x1="187.5" y1="655.3" x2="129.2" y2="655.3"/>
	<line class="st1" x1="129.2" y1="640.8" x2="129.2" y2="655.3"/>
	<line class="st1" x1="121.6" y1="640.8" x2="129.2" y2="640.8"/>
	<line class="st1" x1="121.6" y1="655.3" x2="121.6" y2="640.8"/>
	<line class="st1" x1="82.4" y1="655.3" x2="121.6" y2="655.3"/>
	<line class="st1" x1="228.3" y1="648" x2="243.5" y2="648"/>
	<line class="st1" x1="243.5" y1="595.9" x2="243.5" y2="648"/>
	<line class="st1" x1="191.6" y1="595.9" x2="243.5" y2="595.9"/>
	<line class="st1" x1="191.6" y1="648" x2="191.6" y2="595.9"/>
	<line class="st1" x1="205.3" y1="648" x2="191.6" y2="648"/>
	<line class="st1" x1="187.5" y1="693.5" x2="187.5" y2="677.3"/>
	<line class="st1" x1="209.9" y1="682.3" x2="187.5" y2="682.3"/>
	<line class="st1" x1="209.9" y1="717.9" x2="209.9" y2="682.3"/>
	<line class="st1" x1="187.5" y1="717.9" x2="209.9" y2="717.9"/>
	<line class="st1" x1="187.5" y1="708" x2="187.5" y2="877.5"/>
	<line class="st1" x1="270.4" y1="877.5" x2="187.5" y2="877.5"/>
	<line class="st1" x1="266.6" y1="889.4" x2="266.6" y2="877.5"/>
	<line class="st1" x1="195.4" y1="890" x2="195.4" y2="877.5"/>
	<line class="st1" x1="233.6" y1="890" x2="233.6" y2="877.5"/>
	<line class="st1" x1="149.1" y1="874.9" x2="129.2" y2="874.9"/>
	<line class="st1" x1="129.2" y1="890" x2="129.2" y2="874.9"/>
	<line class="st1" x1="101.7" y1="890" x2="101.7" y2="874.9"/>
	<line class="st1" x1="129.2" y1="881.5" x2="101.7" y2="881.5"/>
	<line class="st1" x1="247.2" y1="181.1" x2="247.2" y2="88.2"/>
	<line class="st1" x1="9.1" y1="181.1" x2="247.2" y2="181.1"/>
	<line class="st1" x1="479" y1="292.6" x2="478.4" y2="411.3"/>
	<line class="st1" x1="364.4" y1="393.5" x2="477.8" y2="393.5"/>
	<line class="st1" x1="460.8" y1="421.2" x2="471.7" y2="421.2"/>
	<line class="st1" x1="435" y1="421.2" x2="446.6" y2="421.2"/>
	<line class="st1" x1="409" y1="421.2" x2="420.6" y2="421.2"/>
	<line class="st1" x1="379.6" y1="421.2" x2="393.2" y2="421.2"/>
	<line class="st1" x1="420.6" y1="393.5" x2="420.6" y2="421.2"/>
	<line class="st1" x1="393.2" y1="393.5" x2="393.2" y2="421.2"/>
	<line class="st1" x1="446.6" y1="393.5" x2="446.6" y2="421.2"/>
	<line class="st1" x1="471.7" y1="393.5" x2="471.7" y2="421.2"/>
	<line class="st1" x1="9.3" y1="349.7" x2="59.3" y2="349.7"/>
	<line class="st1" x1="59.3" y1="393.5" x2="59.3" y2="349.7"/>
	<line class="st1" x1="35" y1="384.4" x2="59.3" y2="384.4"/>
	<line class="st1" x1="9.3" y1="384.4" x2="16.6" y2="384.4"/>
	<line class="st1" x1="429.6" y1="393.5" x2="429.6" y2="315"/>
	<line class="st1" x1="441" y1="393.5" x2="441" y2="315"/>
	<line class="st1" x1="429.6" y1="315" x2="441" y2="315"/>
	<line class="st1" x1="457.8" y1="292.6" x2="457.8" y2="317.6"/>
	<line class="st1" x1="441" y1="318.3" x2="457.8" y2="318.3"/>
	<line class="st1" x1="274" y1="292.6" x2="479" y2="292.6"/>
	<line class="st1" x1="403.4" y1="335.4" x2="428.8" y2="335.4"/>
	<line class="st1" x1="364.4" y1="334.4" x2="364.4" y2="292.6"/>
	<line class="st1" x1="384.1" y1="335.2" x2="364.4" y2="335.2"/>
	<line class="st1" x1="374.2" y1="393.5" x2="374.2" y2="335.2"/>
	<line class="st1" x1="364.4" y1="393.5" x2="364.4" y2="421.2"/>
	<line class="st1" x1="347.7" y1="421.2" x2="347.7" y2="292.6"/>
	<line class="st1" x1="364.4" y1="421.2" x2="274" y2="421.2"/>
	<line class="st1" x1="256.7" y1="292.6" x2="256.7" y2="419.8"/>
	<line class="st1" x1="235.9" y1="420.8" x2="235.9" y2="292.6"/>
	<line class="st1" x1="258.7" y1="292.6" x2="235.9" y2="292.6"/>
	<line class="st1" x1="246.3" y1="427" x2="246.3" y2="420.8"/>
	<line class="st1" x1="258.7" y1="420.8" x2="235.9" y2="420.8"/>
	<line class="st1" x1="129.2" y1="411.3" x2="162.4" y2="411.3"/>
	<line class="st1" x1="162.4" y1="480.5" x2="162.4" y2="411.3"/>
	<line class="st1" x1="209.9" y1="717.9" x2="282.7" y2="717.9"/>
	<line class="st1" x1="282.7" y1="792.8" x2="282.7" y2="717.9"/>
	<line class="st1" x1="573.3" y1="890" x2="573.3" y2="861.2"/>
	<line class="st1" x1="491.4" y1="861.2" x2="573.3" y2="861.2"/>
	<line class="st1" x1="499.5" y1="63.1" x2="499.5" y2="71.6"/>
	<line class="st1" x1="491.4" y1="881.5" x2="491.4" y2="890"/>
	<line class="st1" x1="435.3" y1="861.2" x2="435.3" y2="881.5"/>
	<line class="st1" x1="413.6" y1="861.2" x2="413.6" y2="881.5"/>
	<line class="st1" x1="387.8" y1="861.2" x2="387.8" y2="881.5"/>
	<line class="st1" x1="435.3" y1="881.5" x2="425.8" y2="881.5"/>
	<line class="st1" x1="413" y1="881.5" x2="403.5" y2="881.5"/>
	<line class="st1" x1="387.5" y1="881.5" x2="374.2" y2="881.5"/>
	<line class="st1" x1="425.8" y1="881.5" x2="425.8" y2="890"/>
	<line class="st1" x1="402.7" y1="881.5" x2="402.7" y2="890"/>
	<line class="st1" x1="374.2" y1="881.5" x2="374.2" y2="889.7"/>
	<line class="st1" x1="573.3" y1="63.2" x2="573.3" y2="87.6"/>
	<line class="st1" x1="499.5" y1="87.6" x2="573.3" y2="87.6"/>
	<rect x="-53" y="125.2" transform="matrix(-1.836970e-16 1 -1 -1.836970e-16 837.291 116.1347)" class="st2" width="827.2" height="703"/>
	<line class="st1" x1="247.3" y1="69.9" x2="247.3" y2="63.1"/>
	</g>
	<g id="shelvesConcourse" transform="translate(28, -25)">
	<rect x="430.5" y="704.8" class="st3" width="84.7" height="7.9"/>
	<!-- concourseDisplayer.php takes care of displaying these shelves -->
	</g>
	<g id="text">
	<rect x="7.8" y="12.4" class="st4" width="701.9" height="48.3"/>
	<text transform="matrix(1 0 0 1 236.4349 48.3583)" class="st5 st6">Concourse</text>
	<rect x="173.5" y="732.7" class="st4" width="121.8" height="52"/>
	<text transform="matrix(1 0 0 1 198.4135 750.0033)"><tspan x="0" y="0" class="st7 st8">Create</tspan><tspan x="2" y="24" class="st7 st8">Space</tspan></text>
	<rect x="239.3" y="351.5" class="st4" width="121.8" height="52"/>
	<text transform="matrix(1 0 0 1 269.4931 368.7356)" class="st7 st8">Stairs</text>
	<rect x="24" y="103.9" class="st4" width="195.3" height="61.5"/>
	<text transform="matrix(1 0 0 1 48.2807 121.1792)"><tspan x="0" y="0" class="st7 st8">Faculty / Staff</tspan><tspan x="9.3" y="24" class="st7 st8">Quiet Room</tspan></text>
	</g>
	</g>
	</switch>
	</svg>
    </div>
</head>

<body onload="pullHash();">
    <script type="text/javascript">
        //mouseover popup function
        function pullHash(){
        	if(window.location.hash.length > 6){
        		document.getElementById("textbox1").value = window.location.hash.replace("#",' ')
        			getText();
        	}
        }	

        function getText() {
            //read text from URL
            var request = new XMLHttpRequest();
            request.open('GET', 'bookLocations.php', true);

            request.onreadystatechange = function() {
                if (this.readyState == this.DONE) {
                    console.log("state change");
                    var rawData = request.responseText;
                    //Normalize data
                    rawData = rawData.toUpperCase(); 
                    rawData = rawData.replace(' ','');
					console.log(rawDataArr);

                    console.log("started");
                    //Array of shelfs, [i][0] = start call number, [i][1] = end call number, [i][2] = floor, [i][3] = shelf number
                    var items = [
                        []
                    ];
                    var rawDataArr = rawData.split('\n');
                    for (var i = 1; i < rawDataArr.length; i++) {
                        var temp = rawDataArr[i].split(',');
                        if (temp[1] != 'MISSING') {
                            if (temp[0] != undefined && temp[1] != undefined && temp[2] != undefined && temp[3] != undefined) {
                                items.push([temp[1].trim(), temp[2].trim(), temp[3].trim(), temp[0].trim()]);
                            }
                        }
                    }

                    items.splice(0, 1); //keep or remove?
                    for (var i = 0; i < rawDataArr.length; i++) {
                        console.log(rawDataArr[i]);
                    }
                    for (var i = 0; i < items.length; i++) {
                        console.log(items[i]);
                    }
                    //Format of a call number: [Section][Subsection][Number]['.'][String]
                    //Object to store shelf attributes for sorting
                    function shelf(s1, ss1, n1, str1, s2, ss2, n2, str2, flr, mapno) {
                        this.section1 = s1;
                        this.subsection1 = ss1;
                        this.number1 = n1;
                        this.string1 = str1;
                        this.section2 = s2;
                        this.subsection2 = ss2;
                        this.number2 = n2;
                        this.string2 = str2;
                        this.floor = flr;
                        this.mapnumber = mapno;
                    }
                    var shelves = [];
                    //Parse raw text items array into shelf objects
                    for (var i = 0; i < items.length; i++) { 
                        shelves.push(new shelf(items[i][0].charAt(0), "", "", "", items[i][1].charAt(0), "", "", "", items[i][2], items[i][3]));
                        if (isNaN(items[i][0].charAt(1))) {
                            shelves[i].subsection1 = items[i][0].charAt(1);
                        }
                        if (isNaN(items[i][1].charAt(1))) {
                            shelves[i].subsection2 = items[i][1].charAt(1);
                        }
                        //Read first line of call number up to '.'
                        for (var x = 0; x < items[i][0].length; x++) {
                            if (isNaN(items[i][0].charAt(x)) == false && items[i][0].charAt(x) != '.') {
                                shelves[i].number1 = shelves[i].number1 + items[i][0].charAt(x);
                            }
                            //Once '.' is found, continue iterating but adding to 'string' attribute, then break
                            if (items[i][0].charAt(x) == '.') {
                                for (var y = x + 1; y < items[i][0].length; y++) {
                                    shelves[i].string1 = shelves[i].string1 + items[i][0].charAt(y);
                                }
                                break;
                            }
                        }
                        //same as above but for end value
                        for (var x = 0; x < items[i][1].length; x++) {
                            if (isNaN(items[i][1].charAt(x)) == false && items[i][1].charAt(x) != '.') {
                                shelves[i].number2 = shelves[i].number2 + items[i][1].charAt(x);
                            }
                            if (items[i][1].charAt(x) == '.') {
                                for (var y = x + 1; y < items[i][1].length; y++) {
                                    shelves[i].string2 = shelves[i].string2 + items[i][1].charAt(y);
                                }
                                break;
                            }
                        }
                    }

                    var str = document.getElementById("callnum").value;
					console.log(str);
                    str = str.toUpperCase();
                    str = str.replace('Stacks:', '');
                    str = str.trim();
                    //Declaring input call number, parsing to object for useful bits
                    var callno = {
                        section: str.charAt(0),
                        subsection: "",
                        number: "",
                        string: ""
                    };
                    if (isNaN(str.charAt(1))) {
                        callno.subsection = str.charAt(1);
                    }
                    for (var i = 1; i < str.length; i++) {
                        if (isNaN(str.charAt(i)) == false && str.charAt(i) != '.') {
                            callno.number = callno.number + str.charAt(i);
                        }
                        if (str.charAt(i) == '.') {
                            for (var x = i + 1; x < str.length; x++) {
                                callno.string = callno.string + str.charAt(x);
                            }
                            break;
                        }
                    }
					console.log(callno);
                    var index;
					console.log(shelves);
                    for (var i = 0; i < shelves.length; i++) {
                        //If strictly between start and end subsection, match found
                        if ((callno.section + callno.subsection) > (shelves[i].section1 + shelves[i].subsection1) && (callno.section + callno.subsection) < (shelves[i].section2 + shelves[i].subsection2)) {
                            index = shelves[i].floor + "-" + shelves[i].mapnumber;
                            console.log("INDEX ASSIGNED - Callnumber " + str + " section is STRICTLY in the range of shelf " + i + " RANGE: " + (shelves[i].section1 + shelves[i].subsection1) + " - " + callno.section + callno.subsection + " - " + (shelves[i].section2 + shelves[i].subsection2));
                        }
                        //If contained within start section
                        else if ((callno.section + callno.subsection) == (shelves[i].section1 + shelves[i].subsection1)) {
                            //If contained in start section and further in number
                            if ((parseInt(callno.number, 10) > parseInt(shelves[i].number1, 10))) {
                                index = shelves[i].floor + "-" + shelves[i].mapnumber;
                                console.log("INDEX ASSIGNED - Callnumber " + callno.number + " number is STRICTLY in the range of shelf " + i + " RANGE: " + (shelves[i].number1) + "-" + (shelves[i].number2));
                            }
                            //If equal to start section and start number, assign if further in string
                            else if ((parseInt(callno.number, 10) == parseInt(shelves[i].number1, 10))) {
                                if (callno.string >= shelves[i].string1) {
                                    console.log("INDEX ASSIGNED - Callnumber " + callno.string + " string is STRICTLY OR EQUAL in the range of shelf " + i + " RANGE: " + (shelves[i].string1) + "-" + (shelves[i].string2));
                                    index = shelves[i].floor + "-" + shelves[i].mapnumber;
                                }
                            }

                        }
                        //If contained within end section
                        else if ((callno.section + callno.subsection) == (shelves[i].section2 + shelves[i].subsection2)) {
                            //if contained in end section and less far in number
                            if ((parseInt(callno.number, 10) < parseInt(shelves[i].number2, 10))) {
                                index = shelves[i].floor + "-" + shelves[i].mapnumber;
                                console.log("INDEX ASSIGNED - Callnumber " + callno.number + " number is STRICTLY in the range of shelf " + i + " RANGE: " + (shelves[i].number1) + "-" + (shelves[i].number2));
                            }
                            //if equal to end section and number, assign if less far in string
                            else if ((parseInt(callno.number, 10) == parseInt(shelves[i].number2, 10))) {
                                if (callno.string <= shelves[i].string1) {
                                    console.log("INDEX ASSIGNED - Callnumber " + callno.string + " string is STRICTLY OR EQUAL in the range of shelf " + i + " RANGE: " + (shelves[i].string1) + "-" + (shelves[i].string2));
                                    index = shelves[i].floor + "-" + shelves[i].mapnumber;
                                }
                            }
                        }
                    }
                    console.log(index);
                    //get shelf in format of [floor]-[number]
                    try{
                    var s = document.getElementsByClassName(index.toString())[0];
                    //s.setAttribute("fill", "#EC4D39");
                    //s.setAttribute("stroke", "blue");
                	}
                	catch(err){
                		document.getElementById("modalHeader").innerHTML = "Sorry!"
                		document.getElementById("modalParagraph").innerHTML = "Your book wasn't found. Sorry.";
                     	document.getElementById("modalButton").click();                     	     
                	}
                    var indexFloor;
                    switch(index.charAt(0)){
                    	case '1':
                    		indexFloor="Concourse";
                    		showConcourse();
                    		break;
                    	case '0':
                    		indexFloor="Main floor";
                    		showMain();
                    		break;
                    	case '2':
                    		indexFloor="Ground floor";
                    		showGround();
                    		break;
                    	default:
                    		break;
                    }
                    if(index != undefined){
                     	document.getElementById("modalParagraph").innerHTML = "Your book was found on shelf " + index.split('-')[1] + " on " + indexFloor;                   	
                    	document.getElementById("modalButton").click();
						color(index);
                    }

                    
                    $('#bookFoundModal').on('show.bs.modal', function(e) {
    					
					});                 
                }
            }

            request.send();
        }

        function showAbout() {
            document.getElementById("mainfloormap").style.display = "none";
            document.getElementById("groundfloormap").style.display = "none";
            document.getElementById("concoursemap").style.display = "none";
            document.getElementById("about").style.display = "block";
        }

        function showMain() {
            document.getElementById("mainfloormap").style.display = "block";
            document.getElementById("groundfloormap").style.display = "none";
            document.getElementById("concoursemap").style.display = "none";
            document.getElementById("about").style.display = "none";
        }

        function showGround() {
            document.getElementById("groundfloormap").style.display = "block";
            document.getElementById("mainfloormap").style.display = "none";
            document.getElementById("concoursemap").style.display = "none";
            document.getElementById("about").style.display = "none";

        }

        function showConcourse() {
            document.getElementById("mainfloormap").style.display = "none";
            document.getElementById("groundfloormap").style.display = "none";
            document.getElementById("concoursemap").style.display = "block";
            document.getElementById("about").style.display = "none";

        }

        function showSearch()
        {
        	document.getElementById("searchForm").style.display="block";
        	document.getElementById("mainfloormap").style.display = "none";
            document.getElementById("groundfloormap").style.display = "none";
            document.getElementById("concoursemap").style.display = "none";
            document.getElementById("about").style.display = "none";
        
        }

        function color(index) {
            console.log("started coloring shelves");
            var shelvesToColor = document.getElementsByClassName(index);
            console.log(shelvesToColor);
            for (var i = 0; i < shelvesToColor.length; i++){
            	if(shelvesToColor[i] != undefined){
                	shelvesToColor[i].setAttribute("style", "fill:red; stroke-width:2; stroke:rgb(0,0,0)");
                }
            }
        }
    </script>
    <div id="about">
        <p>
            <b> STL Library Call Number Locator Tool</b>
            <br>
            How to use
            <ul>
            <li> Copy Stacks call number from Library Catalog</li>
            <!-- <img src="/newpage/images/instructions.png" width=100%> -->
            <li> Paste and Submit </li>
            <li>If a match is found, the shelf will be highlighted red</li>
            <ul>
            <br>
            Questions? Bugs? Contact me at <a href="mailto:dinardia1@hawkmail.newpaltz.edu?Subject=Library Book Finder">dinardia1@hawkmail.newpaltz.edu</a>
            <br>
            <br>
           	Developed by Anthony Giordano, Brenden Wrafter, Darrell Maxwell for the Sojourner Truth Library at SUNY New Paltz Android/iOS app
           	<br>
			Graphics by Kelly McInerney
			<br>
			Dynamic Mapping developed by Anthony DiNardi
        </p>
	</div>
	
	<div id="id01" class="loginmodal" style="display: none;">
  
		<form class="loginmodal-content animate" action="Admin/login.php" method="post">
			<div class="imgcontainer">
				<span onclick="document.getElementById('id01').style.display='none'" class="closebtn" title="Close Modal">&times;</span>
				<img src="../SUNY Logo.png" alt="SUNY Logo" class="avatar">
			</div>

			<div class="container">
				<label>Username:</label><input type = "text" name = "Username" value = "" required><br>
				<br><label>Password:</label><input type = "password" name = "Password" value = "" required><br>
				<br><input id = "submit" type = "submit" name = "submit" value = "Login">
				
				<input type="checkbox" checked="checked"> Remember me
			</div>

			<div class="container" style="background-color:#f1f1f1">
				<button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
				<span class="psw">Forgot <a href="#">password?</a></span>
			</div>
		</form>
	</div>
	
		
		
</body>

</html>